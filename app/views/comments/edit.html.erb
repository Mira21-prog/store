<div class = "container">
<div class="col-sm-9">
      <h2>Update comment</h2>
      <% if flash[:errors] %>
      <div class="alert alert-danger" role="alert">
        <h4><%= pluralize(flash[:errors].count, "error") %> prohibited this comment from being saved:</h4>
        <ul>
        <% flash[:errors].each do |err| %>
          <li><%= err %></li>
        <% end %>
      </ul>
      </div>
    <% end %>
		  <%= form_with model: @comment, url: product_comment_path(@product, @comment), method: :patch do |f|%>
		    <div class="form-group starts-edit" data-rating-edit = <%= @comment.rating%>>	
		    	<i class = "fa fa-star rater-input-edit" aria-hidden = "true" id = "st1"></i>  
          <i class = "fa fa-star rater-input-edit" aria-hidden = "true" id = "st2"></i>  
          <i class = "fa fa-star rater-input-edit" aria-hidden = "true" id = "st3"></i>  
          <i class = "fa fa-star rater-input-edit" aria-hidden = "true" id = "st4"></i>  
          <i class = "fa fa-star rater-input-edit" aria-hidden = "true" id = "st5"></i>
          <%= f.hidden_field :rating %>
		    </div>

		    <div class="form-group">
		      <%= f.text_area(:body,  cols: 3, rows: 3, class: 'form-control comment-product') %>
		    </div>
		    <%= button_tag 'Submit', role: 'button', class: 'btn btn-primary submit-comment' %>
		  <% end %>
		</div>		
</div>

    <script>
       $(document).ready(function() { 
          var rat = $(".starts-edit").data("rating-edit");

          if (rat==1) {
            $(".fa-star.rater-input-edit").css("color", "grey");  
            $("#st1").css("color", "yellow");
          } else if (rat==2){
            $(".fa-star.rater-input-edit").css("color", "grey");  
            $("#st1, #st2").css("color", "yellow");
          } else if (rat==3){
            $(".fa-star.rater-input-edit").css("color", "grey");  
            $("#st1, #st2, #st3").css("color", "yellow");
          } else if (rat==4){
            $(".fa-star.rater-input-edit").css("color", "grey");  
            $("#st1, #st2, #st3, #st4").css("color", "yellow");
          } else if (rat==4){
            $(".fa-star.rater-input-edit").css("color", "grey");  
            $("#st1, #st2, #st3, #st4, #st5").css("color", "yellow");
          }

          $("#st1").click(function() {
            $('#comment_rating').val(1);
            $(".fa-star.rater-input-edit").css("color", "grey");  
            $("#st1").css("color", "yellow");  
          });  
          $("#st2").click(function() {  
            $('#comment_rating').val(2);
            $(".fa-star.rater-input-edit").css("color", "grey");  
            $("#st1, #st2").css("color", "yellow");  
  
          });  
          $("#st3").click(function() {  
            $('#comment_rating').val(3);
            $(".fa-star.rater-input-edit").css("color", "grey")  
            $("#st1, #st2, #st3").css("color", "yellow");  
  
          });  
          $("#st4").click(function() {  
            $('#comment_rating').val(4);
            $(".fa-star.rater-input-edit").css("color", "grey");  
            $("#st1, #st2, #st3, #st4").css("color", "yellow");  
  
          });  
          $("#st5").click(function() {  
            $('#comment_rating').val(5);
            $(".fa-star.rater-input-edit").css("color", "grey");  
            $("#st1, #st2, #st3, #st4, #st5").css("color", "yellow");  
  
          });  
        }); 


    </script>